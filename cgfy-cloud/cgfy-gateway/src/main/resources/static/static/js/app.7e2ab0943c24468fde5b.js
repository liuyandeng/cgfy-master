webpackJsonp([1],{0:function(e,t){},"1uuo":function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("7+uW"),o=(r("mtWM"),{data:function(){return{xj:"true",bj:"1",createClick:!1,type:!1,form:{id:"",serviceId:"",uri:"",predicates:"",filters:"1",orders:"",remarks:"",bjid:""},rules:{id:[{required:!0,message:"请填写网关ID",trigger:"blur"}],serviceId:[{required:!0,message:"请填写服务ID",trigger:"blur"}],predicates:[{required:!0,message:"请填写访问路径",trigger:"blur"}]},formInline:{user:"",region:""},list:[]}},created:function(){this.getlist()},methods:{onReset:function(){this.formInline.user="",this.formInline.region="",this.getlist()},handleClose:function(e){var t=this;this.$confirm("确认关闭？").then(function(r){t.form.id="",t.form.serviceId="",t.form.predicates="",t.form.filters="",t.form.orders="",t.form.remarks="",t.form.uri="",t.getlist(),e()}).catch(function(e){})},getlist:function(){var e=this;this.$http.post("/jbdp-route/query").then(function(t){e.list=t.data}).catch(function(t){e.$message.error(t)})},onAdd:function(){this.createClick=!0},onEdit:function(e){this.xj=!1,console.log(e),this.bj="2",this.form=e,this.createClick=!0},onSubmit:function(){var e=this;console.log(this.form.bjid),"2"!=this.bj&&(this.form.uri=this.form.serviceId,this.$http.post("/jbdp-route/add",this.form).then(function(t){e.$message({offset:"300",message:"保存成功！",type:"success"}),e.getlist(),e.onCancel()}).catch(function(t){e.onCancel(),e.$message.error("保存失败")})),"2"==this.bj&&(this.form.uri=this.form.serviceId,this.$http.post("/jbdp-route/update",this.form).then(function(t){e.$message({offset:"300",message:"编辑成功！",type:"success"}),e.getlist(),e.onCancel()}).catch(function(t){e.onCancel(),e.$message.error("编辑失败")}))},onCancel:function(){this.form.id="",this.form.serviceId="",this.form.predicates="",this.form.filters="",this.form.orders="",this.form.remarks="",this.form.uri="",this.createClick=!1},onDelect:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post("/jbdp-route/delete/"+e.id).then(function(e){t.getlist()}).catch(function(e){t.$message.error(e)}),t.$message({offset:"300",type:"success",message:"删除成功!"})}).catch(function(){t.$message({offset:"300",type:"info",message:"已取消删除"})})},onRefresh:function(e){var t=this;this.$http.post("/jbdp-route/query/?serviceId="+this.formInline.user+"&routePath="+this.formInline.region).then(function(e){t.list=e.data}).catch(function(e){t.$message.error(e)})},tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""}}}),l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("el-header",[r("h1",{staticStyle:{"text-align":"center"}},[e._v("\n    网关管理系统\n    ")])]),e._v(" "),r("el-main",[r("el-card",{staticClass:"box-card"},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{staticStyle:{"margin-left":"50px"},attrs:{label:"服务ID"}},[r("el-input",{attrs:{placeholder:"服务ID"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}})],1),e._v(" "),r("el-form-item",{staticStyle:{"margin-left":"50px"},attrs:{label:"访问路径"}},[r("el-input",{attrs:{placeholder:"访问路径"},model:{value:e.formInline.region,callback:function(t){e.$set(e.formInline,"region",t)},expression:"formInline.region"}})],1),e._v(" "),r("el-form-item",{staticStyle:{"margin-left":"50px"}},[r("el-button",{attrs:{type:"success",icon:"el-icon-search"},on:{click:function(t){return e.onRefresh(e.formInline)}}},[e._v("查询")])],1),e._v(" "),r("el-form-item",{staticStyle:{"margin-left":"20px"}},[r("el-button",{attrs:{type:"success",icon:"el-icon-star-off"},on:{click:function(t){return e.onReset()}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.onAdd("form")}}},[e._v("新建")])],1),e._v(" "),r("el-col",{attrs:{span:18}})],1),e._v(" "),e.createClick?r("el-dialog",{attrs:{title:"网关管理",visible:e.createClick,"close-on-click-modal":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.createClick=t}}},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{prop:"id"}},[r("el-col",{attrs:{span:4}},[e._v("网关ID :")]),e._v(" "),r("el-col",{attrs:{span:2}}),e._v(" "),e.xj?r("el-col",{attrs:{span:8}},[r("el-input",{model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1):r("el-col",{attrs:{span:8}},[r("el-input",{attrs:{disabled:!0},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),r("el-col",{attrs:{span:10}})],1),e._v(" "),r("el-form-item",[r("el-col",{attrs:{span:4}},[e._v("服务ID :")]),e._v(" "),r("el-col",{attrs:{span:2}}),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-input",{model:{value:e.form.serviceId,callback:function(t){e.$set(e.form,"serviceId",t)},expression:"form.serviceId"}})],1),e._v(" "),r("el-col",{attrs:{span:10}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"serviceId"}},[r("el-col",{attrs:{span:4}},[e._v("转发地址URL :")]),e._v(" "),r("el-col",{staticStyle:{"padding-left":"20px"},attrs:{span:16}},[e._v(" lb: // "+e._s(e.form.serviceId))]),e._v(" "),r("el-col",{attrs:{span:4}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"predicates"}},[r("el-col",{attrs:{span:4}},[e._v("访问路径 :")]),e._v(" "),r("el-col",{attrs:{span:2}}),e._v(" "),r("el-col",{attrs:{span:14}},[r("el-input",{model:{value:e.form.predicates,callback:function(t){e.$set(e.form,"predicates",t)},expression:"form.predicates"}})],1),e._v(" "),r("el-col",{attrs:{span:4}})],1),e._v(" "),r("el-form-item",[r("el-col",{attrs:{span:4}},[e._v("过滤 :")]),e._v(" "),r("el-col",{attrs:{span:2}}),e._v(" "),r("el-col",{attrs:{span:14}},[r("el-input",{model:{value:e.form.filters,callback:function(t){e.$set(e.form,"filters",t)},expression:"form.filters"}})],1),e._v(" "),r("el-col",{attrs:{span:4}})],1),e._v(" "),r("el-form-item",[r("el-col",{attrs:{span:4}},[e._v("顺序号 :")]),e._v(" "),r("el-col",{attrs:{span:2}}),e._v(" "),r("el-col",{attrs:{span:14}},[r("el-input",{model:{value:e.form.orders,callback:function(t){e.$set(e.form,"orders",t)},expression:"form.orders"}})],1),e._v(" "),r("el-col",{attrs:{span:4}})],1),e._v(" "),r("el-input",{staticStyle:{display:"none"},model:{value:e.form.bjid,callback:function(t){e.$set(e.form,"bjid",t)},expression:"form.bjid"}}),e._v(" "),r("el-form-item",[r("el-col",{attrs:{span:4}},[e._v("备注 :")]),e._v(" "),r("el-col",{attrs:{span:2}}),e._v(" "),r("el-col",{attrs:{span:14}},[r("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1),e._v(" "),r("el-col",{attrs:{span:4}})],1),e._v(" "),r("el-form-item",[r("el-row",{staticStyle:{float:"right"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),e._v(" "),r("el-button",{on:{click:function(t){return e.onCancel()}}},[e._v("取消")])],1)],1)],1)],1):e._e(),e._v(" "),[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,"row-class-name":e.tableRowClassName}},[r("el-table-column",{attrs:{prop:"id",label:"网关ID",width:"210"}}),e._v(" "),r("el-table-column",{attrs:{prop:"serviceId",label:"服务ID",width:"210"}}),e._v(" "),r("el-table-column",{attrs:{prop:"uri",label:"转发网址URL"}}),e._v(" "),r("el-table-column",{attrs:{prop:"predicates",label:"访问路径"}}),e._v(" "),r("el-table-column",{attrs:{prop:"filters",label:"过滤"}}),e._v(" "),e.type?r("el-table-column",{attrs:{prop:"orders",label:"顺序号"}}):e._e(),e._v(" "),e.type?r("el-table-column",{attrs:{prop:"remarks",label:"备注"}}):e._e(),e._v(" "),r("el-table-column",{attrs:{prop:"cz",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.onEdit(t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.onDelect(t.row)}}},[e._v("删除")])]}}])})],1)]],2)],1)],1)},staticRenderFns:[]};var n=r("VU/8")(o,l,!1,function(e){r("Oulm")},null,null).exports,a=r("/ocq"),i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))]),e._v(" "),r("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),r("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),r("br"),e._v(" "),r("li",[r("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var c=r("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},i,!1,function(e){r("1uuo")},"data-v-d8ec41bc",null).exports;s.default.use(a.a);var u=new a.a({routes:[{path:"/",name:"HelloWorld",component:c}]}),f=r("zL8q"),m=r.n(f),p=(r("tvR6"),r("8+8L"));s.default.use(p.a),s.default.config.productionTip=!1,s.default.use(m.a),new s.default({el:"#app",router:u,components:{App:n},template:"<App/>"})},Oulm:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.7e2ab0943c24468fde5b.js.map